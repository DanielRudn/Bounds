package com.dr.bounds.screens;

import java.util.ArrayList;

import com.DR.dLib.dImage;
import com.DR.dLib.dTweener;
import com.DR.dLib.dUICard;
import com.DR.dLib.dUICardList;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.Texture;
import com.dr.bounds.MainGame;

public class InviteScreen extends dUICardList {

	// title card to be displayed at the top
	private dUICard titleCard;
	// index of player card that is currently expanded
	private int expandedIndex = -1;
	// timer for showing the transition animation to this screen
	private float showTime = 0;
	private final float SHOW_DURATION = 2f;
	private boolean showAnimation = false;
	// circle for transition to show screen
	private dImage circleCover;
	
	public InviteScreen(float x, float y, Texture texture, ArrayList<dUICard> list) {
		super(x, y, texture, list);
		titleCard = new dUICard(0,0,texture);
		titleCard.setColor(Color.BLUE);
		setTitleCard(titleCard);
		setColor(Color.NAVY);
		hide();
	}
	
	@Override
	public void update(float delta)
	{
		super.update(delta);
		if(showAnimation && showTime <= SHOW_DURATION)
		{
			//expand circle to cover the screen
			circleCover.setDimensions(dTweener.ExponentialEaseOut(showTime, 0, MainGame.VIRTUAL_HEIGHT * 2.5f, SHOW_DURATION)
								,dTweener.ExponentialEaseOut(showTime, 0, MainGame.VIRTUAL_HEIGHT * 2.5f, SHOW_DURATION));
			
		}
	}
	
	@Override
	public void show()
	{
		super.show();
		showAnimation = true;
		circleCover.setDimensions(0, 0);
		circleCover.setPos(MainGame.getVirtualMouseX(), MainGame.getVirtualMouseY());
		showTime = 0;
	}

}
